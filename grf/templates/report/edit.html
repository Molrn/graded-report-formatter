{% load static %}

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.13.2/themes/base/jquery-ui.min.css">

<script src="https://cdn.ckeditor.com/ckeditor5/36.0.0/classic/ckeditor.js"></script>

<script src="{% static 'grf/js/sortable-accordion.js' %}" defer></script>
<script src="{% static 'grf/js/text-editor.js' %}" defer></script>
<script src="{% static 'grf/js/grade-elements.js' %}" defer></script>
<script src="{% static 'grf/js/save-report.js' %}" defer></script>
<script src="{% static 'grf/js/exports.js' %}" defer></script>
<script src="{% static 'grf/js/add-parts.js' %}" defer></script>
<link rel="stylesheet" href="{% static 'grf/css/styles.css' %}">

<div class="toolbar">
    <a href="/grf">Home</a>
    <div class="buttons">
        <button id="save-button">Save</button>
        <button id="json-export-button">Export to JSON</button>
        <button id="pdf-export-button">Export to PDF</button>
        <button id="word-export-button">Export to WORD</button>
    </div>
</div>

<div class="accordion" id="report-accordion" object-id="{{ object.id }}">
    <input type="text" id="report-title" value="{{ object.title }}">
    {% for report_part in report.reportpart_set.all|dictsort:"order" %}
        {% include "report/part.html" with report_part=report_part %}
    {% endfor %}
    <button class="add-accordion-item add-part">+</button>
</div>
<div id="templates" style="display: none;">
    <div id="template-part">
        {% include "report/part.html" with report_part=template_part %}
    </div>
    <div id="template-direct-subpart">
        {% include "report/subpart.html" with subpart=template_subpart is_graded=True is_direct=True %}
    </div>
    <div id="template-subpart">
        {% include "report/subpart.html" with subpart=template_subpart %}
    </div>
</div>
